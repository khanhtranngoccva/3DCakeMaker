(()=>{var e={164:()=>{HTMLElement.prototype.delegate=function(e,r,a){this.addEventListener(e,(function(e){let t=e.target,o=t.closest(r);null!==o&&this.contains(o)&&a.call(t,e)}))},console.log("%cPrototype manipulation complete.","color: green")}},r={};function a(t){var o=r[t];if(void 0!==o)return o.exports;var n=r[t]={exports:{}};return e[t](n,n.exports,a),n.exports}(()=>{"use strict";a(164);const e={parallax:0,innerHeight:window.innerHeight,innerWidth:window.innerWidth,minRotX:-60,maxRotX:60,minRotY:-180,maxRotY:180},r={};!function(){const a=document.querySelector(".globalCamera");Object.defineProperty(r,"parallax",{get:()=>e.parallax,set:r=>(r?e.parallax=!0:(e.parallax=!1,a.style.removeProperty("transform")),e.parallax)});const t=["minRotX","maxRotX","minRotY","maxRotY"];for(let a of t)Object.defineProperty(r,a,{get:()=>e[a],set(r){if("number"!=typeof r||isNaN(r))throw new Error("Minimum and maximum must be a number");e[a]=r}});window.addEventListener("mousemove",(function(t){if(r.parallax){const{minRotX:r,maxRotX:o,minRotY:n,maxRotY:l}=e,{clientX:i,clientY:c}=t,s=i/e.innerWidth,d=-(r+(o-r)*(c/e.innerHeight)),u=n+(l-n)*s;requestAnimationFrame((()=>{requestAnimationFrame((()=>{a.style.transform=`rotateX(${d}deg) rotateY(${u}deg)`}))}))}})),window.addEventListener("resize",(function(){e.innerWidth=window.innerWidth,e.innerHeight=window.innerHeight}))}(),console.log("%cDimensionCSS loaded.","color:blue;font-weight:500"),document.querySelector("body").delegate("click",".makeThisRainbow",(function(e){e.preventDefault();const r=this.parentElement.querySelector("input[type='color']");var a;r&&(a=r.name,o[a]=t.rainbow,l())})),console.log("%cRainbow stuff","color: red"),r.parallax=!r.parallax;let t={rainbow:"linear-gradient(\n            rgba(255, 0, 0, 1) 20%,\n            rgba(255, 154, 0, 1) 28.75%,\n            rgba(208, 222, 33, 1) 37.5%,\n            rgba(79, 220, 74, 1) 46.25%,\n            rgba(63, 218, 216, 1) 55%,\n            rgba(47, 201, 226, 1) 63.75%,\n            rgba(28, 127, 238, 1) 72.5%,\n            rgba(95, 21, 242, 1) 81.25%,\n            rgba(186, 12, 248, 1) 90%)"},o={candleFlameColor:"#fd6",candleColor:"pink",cakeBaseColor:"#269d26",cakeBaseCreamColor:"#ffffff",cakeCreamColor:"#7cda9a",recipientAge:27,cakeTopping:"creamCherry"},n={flakes:".flakeTopping",creamCherry:".creamCherryTopping",berry:".berryTopping"};function l(){Array.from(document.querySelectorAll(".candleText")).map((e=>e.setAttribute("text",o.recipientAge))),Array.from(document.querySelectorAll(".candleText")).map((e=>function(e){e.innerHTML="";let r=e.getAttribute("text");for(let a of r){const r=document.createElement("div");r.classList.add("candleChar"),e.append(r);const t=document.createElement("div");t.innerText=a,t.classList.add("frontCandleChar"),"4".includes(a)?t.style.transform="scaleX(1.1)":t.style.transform="scaleX(1.2)",r.append(t);for(let e=1;e<20;e++){const r=document.createElement("div");r.classList.add("sideCandleChar"),r.innerText=a,r.style.transform=`translateZ(${-e}px)`,t.append(r)}const o='<div class="flame">\n            <div class="flameTransformGroup">\n                <div class="flamePart1 reusableBox"></div>\n                <div class="flamePart2 reusableBox"></div>\n                <div class="flamePeak reusableBox"></div>    \n            </div>\n        </div>';r.innerHTML+=o,("4".includes(a)||"6".includes(a))&&r.querySelector(".flame").style.setProperty("--optionalTransform","translateX(0.05em)")}}(e))),Array.from(document.querySelectorAll(".flame")).map((e=>e.style.setProperty("--mainColor",o.candleFlameColor))),Array.from(document.querySelectorAll(".candleChar")).map((e=>e.style.setProperty("--candleColor",o.candleColor))),Array.from(document.querySelectorAll(".cakeBase")).map((e=>e.style.setProperty("--baseColor",o.cakeBaseColor))),Array.from(document.querySelectorAll(".cakeBase")).map((e=>e.style.setProperty("--baseCreamColor",o.cakeBaseCreamColor))),Array.from(document.querySelectorAll(".cakeIcing")).map((e=>e.style.setProperty("--topCreamColor",o.cakeCreamColor))),Array.from(document.querySelectorAll(".creamBase")).map((e=>e.style.setProperty("--primaryColor",o.cakeCreamColor))),Array.from(document.querySelectorAll(".cakeTopping")).map((e=>e.style.display="none")),Array.from(document.querySelectorAll(n[o.cakeTopping])).map((e=>e.style.display="block")),Array.from(document.querySelectorAll(".reusableBox")).forEach((e=>e.innerHTML||(e.innerHTML='<div class="_reusableBox__boxFace _reusableBox__boxBack _lighting"></div>\n                <div class="_reusableBox__boxFace _reusableBox__boxFront _lighting"></div>\n                <div class="_reusableBox__boxFace _reusableBox__boxLeft _lighting"></div>\n                <div class="_reusableBox__boxFace _reusableBox__boxRight _lighting"></div>\n                <div class="_reusableBox__boxFace _reusableBox__boxBottom _lighting"></div>\n                <div class="_reusableBox__boxFace _reusableBox__boxTop _lighting"></div>'))),function(){const e=2*Math.PI/21,r='<div class="reusableCylinder"></div>'.repeat(21);Array.from(document.querySelectorAll(".reusableDonut")).forEach((a=>{a.innerHTML=r,Array.from(a.querySelectorAll(".reusableCylinder")).forEach(((r,a)=>{r.style.transform=`rotateY(${a/21}turn) translateZ(calc(var(--donutRadius) - var(--thickness) / 2)) rotateY(90deg) rotateX(90deg)`,r.style.setProperty("--height",`calc(var(--donutRadius) * ${2*Math.tan(e/2)})`)}))}))}(),function(){const e='<div class="_reusableCylinder__cylinderFace _reusableCylinder__cylinderTop _lighting"></div>'+'<div class="_reusableCylinder__cylinderFace _reusableCylinder__cylinderStrip _lighting"></div>'.repeat(21)+'<div class="_reusableCylinder__cylinderFace _reusableCylinder__cylinderBottom _lighting"></div>',r=2*Math.PI/21;Array.from(document.querySelectorAll(".reusableThickCylinder")).forEach((e=>e.innerHTML||(e.innerHTML='<div class="reusableCylinder"></div><div class="reusableCylinder reusableCylinderInner"></div>'))),Array.from(document.querySelectorAll(".reusableCylinder")).forEach((a=>{a.innerHTML||(a.innerHTML=e),Array.from(a.querySelectorAll("._reusableCylinder__cylinderStrip")).forEach(((e,a)=>{e.style.transform=`rotateY(${a/21}turn) translateZ(var(--radius))`,e.style.setProperty("--width",`calc(1px + var(--radius) * ${2*Math.tan(r/2)})`)}))}))}()}const i=document.querySelector(".createCakeForm");Array.from(document.querySelectorAll("form")).map((e=>e.style.display="none"));const c=document.querySelector(".getCakeForm"),s=c.querySelector(".message");async function d(e){const r=await(await fetch("/api/getCake/"+e)).json();console.log(r),404===r.code?s.innerText="Sorry, we didn't found your requested cake.":s.innerText="",Object.assign(o,r.data),l()}let u=document.querySelector("#directCakeID").innerText.trim();u?d(u):(c.style.display="flex",function(){for(let e of i.querySelectorAll("input, s")){const r=e.name;o[r]=e.value}l()}()),c.addEventListener("submit",(async function(e){e.preventDefault(),await d(document.querySelector("#getCakeID").value)}))})()})();