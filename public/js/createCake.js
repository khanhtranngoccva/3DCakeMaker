(()=>{var e={164:()=>{HTMLElement.prototype.delegate=function(e,r,t){this.addEventListener(e,(function(e){let a=e.target,o=a.closest(r);null!==o&&this.contains(o)&&t.call(a,e)}))},console.log("%cPrototype manipulation complete.","color: green")}},r={};function t(a){var o=r[a];if(void 0!==o)return o.exports;var n=r[a]={exports:{}};return e[a](n,n.exports,t),n.exports}(()=>{"use strict";t(164);const e={parallax:0,innerHeight:window.innerHeight,innerWidth:window.innerWidth,minRotX:-60,maxRotX:60,minRotY:-180,maxRotY:180},r={};!function(){const t=document.querySelector(".globalCamera");Object.defineProperty(r,"parallax",{get:()=>e.parallax,set:r=>(r?e.parallax=!0:(e.parallax=!1,t.style.removeProperty("transform")),e.parallax)});const a=["minRotX","maxRotX","minRotY","maxRotY"];for(let t of a)Object.defineProperty(r,t,{get:()=>e[t],set(r){if("number"!=typeof r||isNaN(r))throw new Error("Minimum and maximum must be a number");e[t]=r}});window.addEventListener("mousemove",(function(a){if(r.parallax){const{minRotX:r,maxRotX:o,minRotY:n,maxRotY:l}=e,{clientX:i,clientY:c}=a,s=i/e.innerWidth,d=-(r+(o-r)*(c/e.innerHeight)),u=n+(l-n)*s;requestAnimationFrame((()=>{requestAnimationFrame((()=>{t.style.transform=`rotateX(${d}deg) rotateY(${u}deg)`}))}))}})),window.addEventListener("resize",(function(){e.innerWidth=window.innerWidth,e.innerHeight=window.innerHeight}))}(),console.log("%cDimensionCSS loaded.","color:blue;font-weight:500"),document.querySelector("body").delegate("click",".makeThisRainbow",(function(e){e.preventDefault();const r=this.parentElement.querySelector("input[type='color']");var t;r&&(t=r.name,o[t]=a.rainbow,l())})),console.log("%cRainbow stuff","color: red"),r.parallax=!r.parallax;let a={rainbow:"linear-gradient(\n            rgba(255, 0, 0, 1) 20%,\n            rgba(255, 154, 0, 1) 28.75%,\n            rgba(208, 222, 33, 1) 37.5%,\n            rgba(79, 220, 74, 1) 46.25%,\n            rgba(63, 218, 216, 1) 55%,\n            rgba(47, 201, 226, 1) 63.75%,\n            rgba(28, 127, 238, 1) 72.5%,\n            rgba(95, 21, 242, 1) 81.25%,\n            rgba(186, 12, 248, 1) 90%)"},o={candleFlameColor:"#fd6",candleColor:"pink",cakeBaseColor:"#269d26",cakeBaseCreamColor:"#ffffff",cakeCreamColor:"#7cda9a",recipientAge:27,cakeTopping:"creamCherry"},n={flakes:".flakeTopping",creamCherry:".creamCherryTopping",berry:".berryTopping"};function l(){Array.from(document.querySelectorAll(".candleText")).map((e=>e.setAttribute("text",o.recipientAge))),Array.from(document.querySelectorAll(".candleText")).map((e=>function(e){e.innerHTML="";let r=e.getAttribute("text");for(let t of r){const r=document.createElement("div");r.classList.add("candleChar"),e.append(r);const a=document.createElement("div");a.innerText=t,a.classList.add("frontCandleChar"),"4".includes(t)?a.style.transform="scaleX(1.1)":a.style.transform="scaleX(1.2)",r.append(a);for(let e=1;e<20;e++){const r=document.createElement("div");r.classList.add("sideCandleChar"),r.innerText=t,r.style.transform=`translateZ(${-e}px)`,a.append(r)}const o='<div class="flame">\n            <div class="flameTransformGroup">\n                <div class="flamePart1 reusableBox"></div>\n                <div class="flamePart2 reusableBox"></div>\n                <div class="flamePeak reusableBox"></div>    \n            </div>\n        </div>';r.innerHTML+=o,("4".includes(t)||"6".includes(t))&&r.querySelector(".flame").style.setProperty("--optionalTransform","translateX(0.05em)")}}(e))),Array.from(document.querySelectorAll(".flame")).map((e=>e.style.setProperty("--mainColor",o.candleFlameColor))),Array.from(document.querySelectorAll(".candleChar")).map((e=>e.style.setProperty("--candleColor",o.candleColor))),Array.from(document.querySelectorAll(".cakeBase")).map((e=>e.style.setProperty("--baseColor",o.cakeBaseColor))),Array.from(document.querySelectorAll(".cakeBase")).map((e=>e.style.setProperty("--baseCreamColor",o.cakeBaseCreamColor))),Array.from(document.querySelectorAll(".cakeIcing")).map((e=>e.style.setProperty("--topCreamColor",o.cakeCreamColor))),Array.from(document.querySelectorAll(".creamBase")).map((e=>e.style.setProperty("--primaryColor",o.cakeCreamColor))),Array.from(document.querySelectorAll(".cakeTopping")).map((e=>e.style.display="none")),Array.from(document.querySelectorAll(n[o.cakeTopping])).map((e=>e.style.display="block")),Array.from(document.querySelectorAll(".reusableBox")).forEach((e=>e.innerHTML||(e.innerHTML='<div class="_reusableBox__boxFace _reusableBox__boxBack _lighting"></div>\n                <div class="_reusableBox__boxFace _reusableBox__boxFront _lighting"></div>\n                <div class="_reusableBox__boxFace _reusableBox__boxLeft _lighting"></div>\n                <div class="_reusableBox__boxFace _reusableBox__boxRight _lighting"></div>\n                <div class="_reusableBox__boxFace _reusableBox__boxBottom _lighting"></div>\n                <div class="_reusableBox__boxFace _reusableBox__boxTop _lighting"></div>'))),function(){const e=2*Math.PI/21,r='<div class="reusableCylinder"></div>'.repeat(21);Array.from(document.querySelectorAll(".reusableDonut")).forEach((t=>{t.innerHTML=r,Array.from(t.querySelectorAll(".reusableCylinder")).forEach(((r,t)=>{r.style.transform=`rotateY(${t/21}turn) translateZ(calc(var(--donutRadius) - var(--thickness) / 2)) rotateY(90deg) rotateX(90deg)`,r.style.setProperty("--height",`calc(var(--donutRadius) * ${2*Math.tan(e/2)})`)}))}))}(),function(){const e='<div class="_reusableCylinder__cylinderFace _reusableCylinder__cylinderTop _lighting"></div>'+'<div class="_reusableCylinder__cylinderFace _reusableCylinder__cylinderStrip _lighting"></div>'.repeat(21)+'<div class="_reusableCylinder__cylinderFace _reusableCylinder__cylinderBottom _lighting"></div>',r=2*Math.PI/21;Array.from(document.querySelectorAll(".reusableThickCylinder")).forEach((e=>e.innerHTML||(e.innerHTML='<div class="reusableCylinder"></div><div class="reusableCylinder reusableCylinderInner"></div>'))),Array.from(document.querySelectorAll(".reusableCylinder")).forEach((t=>{t.innerHTML||(t.innerHTML=e),Array.from(t.querySelectorAll("._reusableCylinder__cylinderStrip")).forEach(((e,t)=>{e.style.transform=`rotateY(${t/21}turn) translateZ(var(--radius))`,e.style.setProperty("--width",`calc(1px + var(--radius) * ${2*Math.tan(r/2)})`)}))}))}()}Array.from(document.querySelectorAll("form")).map((e=>e.style.display="none"));const i=document.querySelector(".createCakeForm");function c(){for(let e of i.querySelectorAll("input, select")){const r=e.name,t=e.value;e.matches("[type=color]")&&e.style.setProperty("--currentColor",t),o[r]=t}l()}i.style.display="flex",i.delegate("change","input, select",(function(){c()})),i.delegate("input","input, select",(function(){c()})),c(),i.addEventListener("submit",(async function(e){e.preventDefault();const r=JSON.stringify(o);document.querySelector(".cakeIDOverlay").style.display="flex";const t=await(await fetch("/api/createCake",{method:"POST",headers:{"Content-Type":"application/json"},body:r})).json();200===t.code&&(document.querySelector(".cakeIDOverlayWindow").style.display="block",document.querySelector("#cakeID").innerText=t.data._id)}))})()})();